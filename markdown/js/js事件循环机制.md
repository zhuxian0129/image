#### 操作系统中的概念

进程：计算机已经运行的程序，是操作系统管理程序的一种方式；

线程：操作系统能够运行运算调度的最小单位，通常情况下它包含在进程中；

#### 其他解释

进程：我们可以认为，启动一个应用程序，就会默认启动一个进程（也可能是多个进程）；

线程：每一个进程，都会启动至少一个线程用来执行程序中的代码，这个线程被称之为主线程；

### 事件循环

- 主线程：可以理解为js的首要任务（同步任务的先进先出）

- 执行栈

- 任务队列

- 宏任务

  > 常见的宏任务：script全部代码；setTimeout；setInterval；setImmediate；I/O；UI Rendering

- 微任务

  > 常见的微任务：Process.nextTick；Promise（<font color='#0f0'>new Promise的过程属于同步任务，resolve或者reject之后才算微任务</font>）。

<strong>主线程：</strong>可以理解为js的首要任务，也可以方便理解成同步任务的先进先出；使用了同步任务就会执行。

<strong>执行栈：</strong>因为执行栈是一个先入后出的数据结构，为了便于理解，我们姑且浅显的理解为有一个同步任务来了进入栈底马上执行它，然后释放。

<strong>任务队列：</strong>任务队列的存在就是为了应对一些异步任务的存在，我们在执行一个任务如果迟迟等不到不可能一直原地等待，成语需要往下进行。

<strong>宏任务和微任务：</strong>通俗理解：主线程是在执行同步任务完成之后才会来执行宏任务和微任务，同时微任务的优先级高于宏任务，只有在任务队列中所有的微任务执行完毕之后宏任务才会执行。

#### 事件循环图

<img src='https://pic2.zhimg.com/v2-85cd6acf63658689a7a0b00749d6b695_r.jpg'>

<font color='#0f0'>主线程首先执行完同步任务，然后会去任务队列中执行宏任务，如果在执行宏任务的过程中发现有微任务，这时微任务比宏任务先执行。全部执行完成之后等待主线程调用，调用完成之后再去任务队列中查看是否还有异步任务有待执行，循环往复。</font>

> 先进后出的执行栈的理解
>
> 当a函数调用了b函数时，b函数调用完成之后，空间被释放，a中剩余代码执行完毕之后再是否a函数{ a函数先进入执行栈，却在b后被释放 }。